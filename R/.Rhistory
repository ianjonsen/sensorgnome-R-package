pieces[ip]
Q
source("readDTA.R")
a=readDTA("/home/john/proj/lotek/Telemetry Sample/data/BP_20100901.DTA")
a
debug(readDTA)
a=readDTA("/home/john/proj/lotek/Telemetry Sample/data/BP_20100901.DTA")
n
pieces
0
n
pieces
clen
cstart
Q
lotekDTAregex=paste(readLines("Lotek_DTA_regex.txt"), collapse="\r\n")
a=readDTA("/home/john/proj/lotek/Telemetry Sample/data/BP_20100901.DTA")
n
clen
cstart
Q
a=readDTA("/home/john/proj/lotek/Telemetry Sample/data/BP_20100901.DTA")
n
n
n
n
n
txt=readChars(filename)
1
txt=readChar(filename)
txt=readChar(filename, file.info(filename)$size)
cont
1
Q
source("readDTA.R")
a=readDTA("/home/john/proj/lotek/Telemetry Sample/data/BP_20100901.DTA")
names(a)
a$tags
debug(readDTA)
a=readDTA("/home/john/proj/lotek/Telemetry Sample/data/BP_20100901.DTA")
n
clen
cstart
Q
lotekDTAregex=paste(readLines("Lotek_DTA_regex.txt"), collapse="\n")
a=readDTA("/home/john/proj/lotek/Telemetry Sample/data/BP_20100901.DTA")
n
n
clen
cstart
lotekDTAregex
cat(lotekDTAregex)
Q
source("readDTA.R")
a=readDTA("/home/john/proj/lotek/Telemetry Sample/data/BP_20100901.DTA")
0
source("readDTA.R")
a=readDTA("/home/john/proj/lotek/Telemetry Sample/data/BP_20100901.DTA")
0
source("lotekPowerTodB.R")
a=readDTA("/home/john/proj/lotek/Telemetry Sample/data/BP_20100901.DTA")
names(a)
source("lotekDTAregex.R")
a=readDTA("/home/john/proj/lotek/Telemetry Sample/data/BP_20100901.DTA")
names(a)
dim(a$tags)
cat(lotekDTAregex)
lotekDTAregex
source("lotekDTAregex.R")
charToRaw(lotekDTAregex)
source("lotekDTAregex.R")
charToRaw(lotekDTAregex)
lotekDTAregex
cat(lotekDTAregex)
source("lotekDTAregex.R")
a=readDTA("/home/john/proj/lotek/Telemetry Sample/data/BP_20100901.DTA")
dim(a$tags)
a
lotekDTAregex
cat(lotekDTAregex)
cat(lotekDTAregex)
aa=paste(readLines("Lotek_DTA_regex.txt"), collapse="\r\n")
aa
lotekDTAregex
source("lotekDTAregex.R")
a=readDTA("/home/john/proj/lotek/Telemetry Sample/data/BP_20100901.DTA")
dim(a$tags)
a
source("readDTA.R")
a=readDTA("/home/john/proj/lotek/Telemetry Sample/data/BP_20100901.DTA")
dim(a$tags)
a$tags[1:10,]
codeset
source("readDTA.R")
a=readDTA("/home/john/proj/lotek/Telemetry Sample/data/BP_20100901.DTA")
a$tags[1:10,]
a=readDTA("/home/john/proj/lotek/Telemetry Sample/data/BP_20100901.DTA")
source("readDTA.R")
a=readDTA("/home/john/proj/lotek/Telemetry Sample/data/BP_20100901.DTA")
class(a$tags$codeset)
b=readDTA("/home/tmp/SIWL_20120724.DTA")
names(b)
dim(b$tags)
b$tags[1:10,]
options(digits=14)
b$tags[1:10,]
source("readDTA.R")
b=readDTA("/home/tmp/SIWL_20120724.DTA")
source("readDTA.R")
b=readDTA("/home/tmp/SIWL_20120724.DTA")
library(lattice)
xyplot(id~ts, subset(b, id!=999))
0
names(b)
xyplot(id~ts, subset(b$tags, id!=999))
?switch
ls()
switch("a", a=kk='aa', b=kk='bb', c=kk='cc')
switch("a", a={kk='aa'}, b={kk='bb'}, c={kk='cc'})
kk
switch("c", a={kk='aa'}, b={kk='bb'}, c={kk='cc'})
kk
source("readDTA.R")
b=readDTA("/home/tmp/SIWL_20120724.DTA")
0
source("readDTA.R")
b=readDTA("/home/tmp/SIWL_20120724.DTA")
names(b)
source("readDTA.R")
b=readDTA("/home/tmp/SIWL_20120724.DTA")
dim(b)
range(b$ts)
qq=diff(b$ts)[1:10]
qq
getwd(
getwd()
a=readDTA("~/Downloads/Sable August 2013.DTA")
dim(a)
table a$id
table a$tagID
names(a)
table (a$id)
sort(table (a$id))
a[1:10,]
options(digits.secs=4)
a[1:10,]
write.csv(a[1:10,], "/dev/stdout")
write.csv(a[1:10,], "/dev/stdout", row.names=FALSE)
a$ts=unclass(a$ts)
write.csv(a[1:10,], "/dev/stdout", row.names=FALSE)
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
0
source("readDTA.R")
0
getwd()
source("lotekDTAregex.R")
source("readDTA.R")
0
source("readDTA.R")
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
0
options(error=recover)
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
1
ls()
dim(tags)
tags
pieces
lotekDTAregex
cat(lotekDTAregex)
0
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
1
ls()
txt
0
debug(readDTA)
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
n
bb=gregexpr(lotekDTAregex, txt, perl = TRUE)
length(bb)
class(bb)
names(bb)
class(bb[[1]])
bb[[1]]
substr(lotekDTAregex, 1, 100)
source("lotekDTAregex.R")
bb=gregexpr(lotekDTAregex, txt, perl = TRUE)
bb
cont
names(a)
undebug(readDTA)
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
dim(a)
names(id)
names(a)
tapply(a$ts, a$id, diff)
tapply(a$ts, a$id, function(x) {y=diff(x); return(y[y < 10])})
with(subset(a, id %in% 19:25), tapply(ts, id, function(x) {y=diff(x); return(y[y < 10])})
)
levels(a$ant)
names(a)
unique(a$ant)
mean(a$lat)
unique(a$antfreq)
with(subset(a, id %in% 19:25), tapply(ts, id, function(x) {dt=diff(range(x)); return(dt)}))
with(subset(a, id %in% 19:25), tapply(as.numeric(ts), id, function(x) {dt=diff(range(x)); return(dt)}))
with(subset(a, id %in% 19:25), tapply(as.numeric(ts), id, function(x) {dt=diff(range(x)); return(dt / (round(dt / 6)))}))
diff(subset(a, id == 19)$ts)
diff(subset(a, id == 20)$ts)
diff(subset(a, id == 20)[c(1, 10),]$ts)
diff(as.numeric(subset(a, id == 20)[c(1, 10),]$ts))
diff(as.numeric(subset(a, id == 20)[c(1, 9),]$ts))
diff(as.numeric(subset(a, id == 20)[c(1, 9),]$ts))/9
diff(as.numeric(subset(a, id == 19)[c(1, 9),]$ts))/9
diff(as.numeric(subset(a, id == 19)[c(1, 9),]$ts))
diff(as.numeric(subset(a, id == 19)[c(1, 9),]$ts))/10
diff(as.numeric(subset(a, id == 21)[c(1, 9),]$ts))
diff(as.numeric(subset(a, id == 21)[c(1, 8),]$ts))
(as.numeric(subset(a, id == 21)$ts))
diff(as.numeric(subset(a, id == 21)$ts))
diff(as.numeric(subset(a, id == 21)[c(2, 20),]$ts))
diff(as.numeric(subset(a, id == 21)[c(2, 30),]$ts))
diff(as.numeric(subset(a, id == 21)[c(2, 30),]$ts))/30
diff(as.numeric(subset(a, id == 21)[c(2, 30),]$ts))/36
diff(as.numeric(subset(a, id == 21)[c(2, 30),]$ts))/35
diff(as.numeric(subset(a, id == 21)[c(2, 30),]$ts))/34
diff(as.numeric(subset(a, id == 21)[c(2, 30),]$ts))/33
diff(as.numeric(subset(a, id == 21)[c(2, 30),]$ts))/32
diff(as.numeric(subset(a, id == 21)[c(2, 30),]$ts))/33
(as.numeric(subset(a, id == 21)[c(2: 30),]$ts)
)
diff(as.numeric(subset(a, id == 21)[c(2: 30),]$ts))
diff(as.numeric(subset(a, id == 21)[c(2, 30),]$ts))/33
(as.numeric(subset(a, id == 22)$ts))
diff((as.numeric(subset(a, id == 22)$ts)))
diff((as.numeric(subset(a, id == 22)[2:26,]$ts)))
diff((as.numeric(subset(a, id == 22)[c(2,26),]$ts)))
diff((as.numeric(subset(a, id == 22)[c(2,26),]$ts)))/29
(as.numeric(subset(a, id == 23)$ts))
diff(as.numeric(subset(a, id == 23)$ts))
diff(as.numeric(subset(a, id == 23)[c(1:16),]$ts))
diff(as.numeric(subset(a, id == 23)[c(1:16),]$ts))/15
diff(as.numeric(subset(a, id == 23)[c(1,16),]$ts))/15
diff(as.numeric(subset(a, id == 24)$ts))
diff(as.numeric(subset(a, id == 24)[c(2:32),]$ts))
diff(as.numeric(subset(a, id == 24)[c(2,32),]$ts))/47
diff(as.numeric(subset(a, id == 25)$ts))
diff(as.numeric(subset(a, id == 25)[c(1,11),]$ts))/10
diff(as.numeric(subset(a, id == 25)[c(1,11),]$ts))/11
getwd()
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
system("hostname")
unclass(a$ts)
a$ts=unclass(a$ts)
write.table(a, sep="", file="/tmp/jb.txt")
lotekDTAregex
?write.table
write.table(a, sep="", file="/tmp/jb.txt", row.names=FALSE)
write.table(a, sep=",", file="/tmp/jb.txt", row.names=FALSE)
names(a)
unique(a$codeset)
source("readDTA.R")
source("lotekDTAregex.R")
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
unique(a$codeset)
debug(readDTA)
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
n
clen
clen$code_set
0
n
names(a)
names(parts)
class(parts)
rownames(parts)
colnames(parts)
any(parts[5,] > 0)
any(parts[4,] > 0)
Q
source("lotekDTAregex.R")
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
cont
unique(a$codeset)
write.table(a, sep=",", file="/tmp/jb.txt", row.names=FALSE)
class(a$ts)
a$ts=unclass(a$ts)
write.table(a, sep=",", file="/tmp/jb.txt", row.names=FALSE)
names(a)
a$ant=as.character(a$ant)
write.table(a, sep=",", file="/tmp/jb.txt", row.names=FALSE)
write.table(a, sep=",", file="/tmp/jb.txt", row.names=FALSE, na="NaN")
write.table(a, sep=",", file="/tmp/jb.txt", row.names=FALSE, na="NaN", col.names=FALSE)
source("lotekPowerTodB.R")
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
cont
0
source("lotekPowerTodB.R")
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
cont
write.table(a, sep=",", file="/tmp/jb.txt", row.names=FALSE, na="NaN", col.names=FALSE)
a$ts=unclass(a$ts)
write.table(a, sep=",", file="/tmp/jb.txt", row.names=FALSE, na="NaN", col.names=FALSE)
a$ant= as.character(a$ant)
write.table(a, sep=",", file="/tmp/jb.txt", row.names=FALSE, na="NaN", col.names=FALSE)
dim(a)
dim(subset(a, id!=999))
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
0
jb=read.csv("/tmp/jbout.txt", as.is=TRUE, row.names=FALSE)
0
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
0
jb=read.csv("/tmp/jbout.txt", as.is=TRUE, row.names=FALSE)
0
jb=read.csv("/tmp/jbout.txt", as.is=TRUE, row.names=FALSE)
0
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
names(jb)
dim(jb)
table(jb$id)
table(a$id)
aid=unique(a$id)
bad=aid[! aid %in% unique(jb$id))]
bad=aid[! aid %in% unique(jb$id)]
bad
sum(table(a$id)[as.character(bad)])
dim(jb)+694
dim(a)
class(a$ts)
class(jb$ts)=class(a$ts)=c("POSIXt", "POSIXct")
library(lattice)
xyplot(id~ts, a)
dim(a)
xyplot(id~ts, a[a$id != 999])
0
xyplot(id~ts, a[a$id != 999,])
with(subset(a, id!=999), plot(id,ts))
with(jb, points(id, ts, pch="+", col="red"))
with(subset(a, id!=999), plot(ts,id))
with(jb, points(ts, id, pch="+", col="red"))
with(subset(a, id!=999), plot(lat,id))
with(jb, points(lat, id, pch="+", col="red"))
with(jb, table(round(lat), id))
tapply(jb$lat, jb$id, range)
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
with(subset(a, id!=999), plot(lat,id))
with(jb, points(lat, id, pch="+", col="red"))
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
table(jb$id)
table(a$id)
any(duplicated(subset(jb, id==149)$ts))
sum(duplicated(subset(jb, id==149)$ts))
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
sum(duplicated(subset(jb, id==149)$ts))
which(duplicated(subset(jb, id==149)$ts))[1]
subset(jb, id==149)[1:22,]
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
sum(duplicated(subset(jb, id==149)$ts))
subset(jb, id==149)[1:100,]
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
sum(duplicated(subset(jb, id==149)$ts))
subset(jb, id==149)[1:100,]
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
sum(duplicated(subset(jb, id==149)$ts))
sum(duplicated(subset(jb)$ts))
dim(jb)
which.first(duplicated(subset(jb)$ts))
which(duplicated(subset(jb)$ts))[1]
sum(duplicated(a$ts))
jb[404,]
subset(jb, runID==375)
range(jb$ts)
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
subset(jb, runID==375)
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
sum(duplicated(a$ts))
sum(duplicated(jb$ts))
dim(jb)
dim(a)
sum(a$id==999)
1589+633
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
dim(jb)
1865+633
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
dim(jb)
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
dim(jb)
sum(duplicated(jb$ts))
jb[duplicated(jb$ts),]
tapply(jb$posInRun, jb$runID, function(x) any(diff(x)<0))
which(tapply(jb$posInRun, jb$runID, function(x) any(diff(x)<0)))
any(tapply(jb$posInRun, jb$runID, function(x) any(diff(x)<0)))
subset(jb, round(ts)==1375115427)
jb[duplicated(jb$ts),]
subset(jb, round(ts)==1375115427)
subset(jb, round(ts)==1375115428)
subset(jb, runID %in% 506:507)
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
jb[duplicated(jb$ts),]
sum(duplicated(jb$ts))
dim(jb)
dim(a)
sum(a$id==999)
with(subset(a, id!=999), plot(lat,id))
with(jb, points(lat, id, pch="+", col="red"))
source("readDTA.R")
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
0
source("readDTA.R")
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
write.table(a, sep=",", file="/tmp/jb.txt", row.names=FALSE, na="NaN", col.names=FALSE)
a$ts=unclass(a$ts)
write.table(a, sep=",", file="/tmp/jb.txt", row.names=FALSE, na="NaN", col.names=FALSE)
a$ant= as.character(a$ant)
write.table(a, sep=",", file="/tmp/jb.txt", row.names=FALSE, na="NaN", col.names=FALSE)
source("readDTA.R")
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
a$ts=unclass(a$ts)
write.table(a, sep=",", file="/tmp/jb.txt", row.names=FALSE, na="NaN", col.names=FALSE)
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
jb[1:10,]
source("readDTA.R")
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
a$ts=unclass(a$ts)
write.table(a, sep=",", file="/tmp/jb.txt", row.names=FALSE, na="NaN", col.names=FALSE)
source("readDTA.R")
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
a$ts=unclass(a$ts)
write.table(a, sep=",", file="/tmp/jb.txt", row.names=FALSE, na="NaN", col.names=FALSE)
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
jb[1:10,]
debug(readDTA)
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
n
piece.lines.before
newlines
substr(txt, 1, 200)
Q
source("readDTA.R")
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
a$ts=unclass(a$ts)
write.table(a, sep=",", file="/tmp/jb.txt", row.names=FALSE, na="NaN", col.names=FALSE)
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
jb[1:20,]
tail(jb, 10)
max(jb, DTAline)
max(jb$DTAline)
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
a$ts=unclass(a$ts)
write.table(a, sep=",", file="/tmp/jb.txt", row.names=FALSE, na="NaN", col.names=FALSE)
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
dim(jb)
tail(jb, 10)
any(diff(jb$ts)<0)
source("readDTA.R")
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
a$ts=unclass(a$ts)
write.table(a, sep=",", file="/tmp/jb.txt", row.names=FALSE, na="NaN", col.names=FALSE)
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
any(diff(jb$ts)<0)
jb=jb[order(jb$ts),]
tail(jb, 10)
source("readDTA.R")
a=readDTA("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
a$ts=unclass(a$ts)
write.table(a, sep=",", file="/tmp/jb.txt", row.names=FALSE, na="NaN", col.names=FALSE)
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
jb=jb[order(jb$ts),]
tail(jb, 10)
head(jb, 10)
with(subset(a, id!=999), plot(ts,id))
with(jb, points(ts, id, pch="+", col="red"))
jb$id=as.factor(jb$0d
jb$id=as.factor(jb$id)
a$id=as.factor(a$id)
a=subset(a, id!= "999")
a$id=as.factor(as.character(a$id))
xyplot(sig~ts|id,a)
dta=readLines("/home/data/hamilton/Hamilton SESA July 24 - Aug 8.DTA")
extra = rep("", length(dta))
jb$runID = order(jb$runID)
length(unique(jb$runID))
sum(jb$posInRun==1)
jb=read.csv("/tmp/jbout.txt", as.is=TRUE)
ccc=round(100*runif(10))
ccc
as.factor(ccc)
as.numeric(as.factor(ccc))
jb$runID = as.numeric(as.factor(jb$runID))
extra[jb$DTAline] = sprintf("%6d:%4d %s", jb$runID, jb$posInRun, jb$tagProj)
paste(dta, extra)[1:20]
txt=paste(dta, extra, collapse="\n")
writeLines(txt, "/tmp/hamilton_annotated_dta.txt")
x=readDTA("/media/john/
"
x=readDTA("/media/john/CORSAIR/BP_banding_lab_20130928.DTA")
